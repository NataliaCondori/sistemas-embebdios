/* USER CODE BEGIN Header */
/* USER CODE END Header */
/* Includes ----------*/
#include "main.h"
/* Private includes ----------*/
/* USER CODE BEGIN Includes */
#include "string.h"
/* USER CODE END Includes */
/* Private variables ---------*/
UART_HandleTypeDef huart2;
DMA_HandleTypeDef hdma_usart2_rx;
DMA_HandleTypeDef hdma_usart2_tx;
/* Private function prototypes ---*/
void SystemClock_Config(void);
static void MX_GPIO_Init(void);
static void MX_DMA_Init(void);
static void MX_USART2_UART_Init(void);
/* Private user code --------*/
/* USER CODE BEGIN 0 */
//uint8_t dataArrived = 0;
uint8_t data[4] = "";
/* USER CODE END 0 */
int main(void)
{
/* USER CODE BEGIN 1 */
/* USER CODE END 1 */
/* MCU Configuration-------*/
HAL_Init();
/* USER CODE BEGIN Init */
/* USER CODE END Init */
/* Configure the system clock */
SystemClock_Config();
/* USER CODE BEGIN SysInit */
/* USER CODE END SysInit */
/* Initialize all configured
peripherals */
MX_GPIO_Init();
MX_DMA_Init();
MX_USART2_UART_Init();
/* USER CODE BEGIN 2 */
/* USER CODE END 2 */
/* Infinite loop */
/* USER CODE BEGIN WHILE */
HAL_UART_Receive_DMA(&huart2, data, 4);
// while(!dataArrived);
while (1)
{
/* USER CODE END WHILE */
HAL_UART_Transmit_DMA(&huart2,
(uint8_t*)"Mensaje bonito :D\n\r",
strlen("Mensaje bonito :D\n\r"));
HAL_Delay(1000);
/* USER CODE BEGIN 3 */
}
/* USER CODE END 3 */
}
